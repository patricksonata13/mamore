<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Calacatta Design - Plataforma de Mármore</title>

<!-- FontAwesome -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<!-- Three.js -->
<script src="https://cdn.jsdelivr.net/npm/three@0.152.2/build/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.152.2/examples/js/controls/OrbitControls.js"></script>

<style>
:root {
  --primary:#2c3e50; --secondary:#e74c3c; --accent:#3498db;
  --light:#ecf0f1; --dark:#2c3e50; --bg:#f9f9f9;
}

*{margin:0;padding:0;box-sizing:border-box;font-family:Segoe UI, Tahoma, Geneva, Verdana, sans-serif;}
body{display:flex;flex-direction:column;min-height:100vh;background:var(--bg);color:var(--primary);}
header{background:var(--primary);color:white;padding:1rem 2rem;display:flex;justify-content:space-between;align-items:center;}
header .logo{font-weight:bold;font-size:1.5rem;}
.main-container{display:flex;flex:1;overflow:hidden;}
.sidebar{width:250px;background:var(--secondary);color:white;padding:1rem;display:flex;flex-direction:column;}
.sidebar h3{margin-bottom:0.5rem;}
.sidebar button{margin-bottom:0.3rem;padding:0.5rem;border:none;border-radius:4px;background:transparent;color:white;cursor:pointer;text-align:left;}
.sidebar button.active{background:var(--accent);}
.workspace{flex:1;display:flex;flex-direction:column;overflow:hidden;}
.toolbar{display:flex;gap:0.5rem;padding:0.5rem;background:var(--light);}
.toolbar button{padding:0.4rem 0.8rem;border:none;border-radius:4px;background:var(--primary);color:white;cursor:pointer;}
.editor-container{flex:1;display:flex;overflow:hidden;}
.right-panel{width:300px;background:var(--light);padding:1rem;overflow-y:auto;}
.panel-tabs{display:flex;border-bottom:1px solid #ddd;margin-bottom:1rem;}
.panel-tab{padding:0.5rem 1rem;border:none;background:transparent;cursor:pointer;}
.panel-tab.active{border-bottom:2px solid var(--secondary);font-weight:bold;}
.panel-content{display:none;}
.panel-content.active{display:block;}
canvas{flex:1;background:#dcdcdc;}
</style>
</head>

<body>
<header>
  <div class="logo"><i class="fas fa-gem"></i> Calacatta Design</div>
  <div class="actions">
    <button onclick="exportImage()">Exportar Projeto</button>
    <button onclick="contactWhatsApp()">WhatsApp</button>
    <button onclick="contactEmail()">Email</button>
  </div>
</header>

<div class="main-container">
  <div class="sidebar">
    <h3>Abas</h3>
    <button class="active" data-tab="pedras">Pedras</button>
    <button data-tab="medicao">Medição</button>
    <button data-tab="projetos">Projetos</button>
    <button data-tab="equipe">Equipe</button>
    <button data-tab="historico">Histórico</button>
  </div>

  <div class="workspace">
    <div class="toolbar">
      <button onclick="addBancada()">Adicionar Bancada</button>
      <button onclick="addMesa()">Adicionar Mesa</button>
      <button onclick="resetScene()">Limpar</button>
    </div>
    <div class="editor-container">
      <canvas id="threeCanvas"></canvas>
      <div class="right-panel">
        <div class="panel-tabs">
          <button class="panel-tab active" data-panel="panel-pedras">Pedras</button>
          <button class="panel-tab" data-panel="panel-medicao">Medição</button>
          <button class="panel-tab" data-panel="panel-projetos">Projetos</button>
          <button class="panel-tab" data-panel="panel-equipe">Equipe</button>
          <button class="panel-tab" data-panel="panel-historico">Histórico</button>
        </div>

        <div class="panel-content active" id="panel-pedras">
          <h4>Catálogo de Pedras</h4>
          <ul>
            <li>Calacatta</li>
            <li>Carrara</li>
            <li>Nero Marquina</li>
          </ul>
        </div>
        <div class="panel-content" id="panel-medicao">
          <h4>Medição</h4>
          <p>Ferramentas de escala tipo Promob</p>
        </div>
        <div class="panel-content" id="panel-projetos">
          <h4>Projetos</h4>
          <ul id="projectList"></ul>
        </div>
        <div class="panel-content" id="panel-equipe">
          <h4>Equipe</h4>
          <ul>
            <li>Cliente</li>
            <li>Marmorista</li>
            <li>Equipe</li>
          </ul>
        </div>
        <div class="panel-content" id="panel-historico">
          <h4>Histórico</h4>
          <ul id="historyList"></ul>
        </div>
      </div>
    </div>
  </div>
</div>

<script>
// Tabs sidebar e painel
document.querySelectorAll('.sidebar button').forEach(btn=>{
  btn.addEventListener('click', ()=>{
    document.querySelectorAll('.sidebar button').forEach(b=>b.classList.remove('active'));
    btn.classList.add('active');
    // mudar conteúdo da workspace se quiser
  });
});
document.querySelectorAll('.panel-tab').forEach(tab=>{
  tab.addEventListener('click', ()=>{
    document.querySelectorAll('.panel-tab').forEach(t=>t.classList.remove('active'));
    document.querySelectorAll('.panel-content').forEach(c=>c.classList.remove('active'));
    tab.classList.add('active');
    document.getElementById(tab.dataset.panel).classList.add('active');
  });
});

// Contato
function contactWhatsApp(){window.open('https://wa.me/5521999999999','_blank');}
function contactEmail(){window.location.href='mailto:contato@calaccattadesign.com';}

// Three.js básico
let scene, camera, renderer, controls, objects=[];
function initThree(){
  scene = new THREE.Scene();
  scene.background = new THREE.Color(0xdcdcdc);
  camera = new THREE.PerspectiveCamera(75, window.innerWidth/ window.innerHeight, 0.1,1000);
  camera.position.set(0,5,10);
  renderer = new THREE.WebGLRenderer({canvas:document.getElementById('threeCanvas'),antialias:true});
  renderer.setSize(window.innerWidth*0.7, window.innerHeight-60);
  controls = new THREE.OrbitControls(camera, renderer.domElement);

  let light = new THREE.DirectionalLight(0xffffff,1);
  light.position.set(10,10,10);
  scene.add(light);
  scene.add(new THREE.AmbientLight(0xffffff,0.5));
  animate();
}

// Adicionar Bancada
function addBancada(){
  let geometry = new THREE.BoxGeometry(3,0.1,1);
  let material = new THREE.MeshStandardMaterial({color:0xffffff});
  let mesh = new THREE.Mesh(geometry,material);
  mesh.position.y=0.05;
  scene.add(mesh);
  objects.push(mesh);
  addHistory('Bancada adicionada');
}

// Adicionar Mesa
function addMesa(){
  let geometry = new THREE.BoxGeometry(1.5,0.1,1.5);
  let material = new THREE.MeshStandardMaterial({color:0xffffff});
  let mesh = new THREE.Mesh(geometry,material);
  mesh.position.y=0.05;
  scene.add(mesh);
  objects.push(mesh);
  addHistory('Mesa adicionada');
}

// Limpar cena
function resetScene(){objects.forEach(obj=>scene.remove(obj));objects=[];addHistory('Cena limpa');}

// Histórico
function addHistory(msg){
  let list = document.getElementById('historyList');
  let li = document.createElement('li'); li.textContent=msg; list.appendChild(li);
}

// Exportar imagem
function exportImage(){
  renderer.render(scene,camera);
  let dataURL = renderer.domElement.toDataURL('image/png');
  let a = document.createElement('a');
  a.href = dataURL; a.download='projeto.png';
  a.click();
}

// Animar
function animate(){
  requestAnimationFrame(animate);
  controls.update();
  renderer.render(scene,camera);
}

window.addEventListener('resize', ()=>{
  camera.aspect = window.innerWidth*0.7 / (window.innerHeight-60);
  camera.updateProjectionMatrix();
  renderer.setSize(window.innerWidth*0.7, window.innerHeight-60);
});

initThree();
</script>
</body>
</html>





